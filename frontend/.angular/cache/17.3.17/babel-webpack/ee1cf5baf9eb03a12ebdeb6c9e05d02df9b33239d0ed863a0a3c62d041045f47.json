{"ast":null,"code":"import _asyncToGenerator from \"/home/joao/Projects/payment-live-chat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"keycloak-angular\";\nexport class AuthService {\n  constructor(keycloak) {\n    this.keycloak = keycloak;\n  }\n  login() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.keycloak.login({\n        redirectUri: window.location.origin + '/home'\n      });\n    })();\n  }\n  register() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield _this2.keycloak.register({\n        redirectUri: window.location.origin + '/home'\n      });\n    })();\n  }\n  logout() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.keycloak.logout(window.location.origin);\n    })();\n  }\n  isLoggedIn() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      return yield _this4.keycloak.isLoggedIn();\n    })();\n  }\n  getProfile() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      return yield _this5.keycloak.loadUserProfile();\n    })();\n  }\n  getToken() {\n    return this.keycloak.getKeycloakInstance().token || '';\n  }\n  getUsername() {\n    return this.keycloak.getUsername();\n  }\n  hasRole(role) {\n    return this.keycloak.isUserInRole(role);\n  }\n  static {\n    this.ɵfac = function AuthService_Factory(t) {\n      return new (t || AuthService)(i0.ɵɵinject(i1.KeycloakService));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["AuthService","constructor","keycloak","login","_this","_asyncToGenerator","redirectUri","window","location","origin","register","_this2","logout","_this3","isLoggedIn","_this4","getProfile","_this5","loadUserProfile","getToken","getKeycloakInstance","token","getUsername","hasRole","role","isUserInRole","i0","ɵɵinject","i1","KeycloakService","factory","ɵfac","providedIn"],"sources":["/home/joao/Projects/payment-live-chat/frontend/src/app/services/auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { KeycloakService } from 'keycloak-angular';\nimport { KeycloakProfile } from 'keycloak-js';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  constructor(private keycloak: KeycloakService) {}\n\n  async login(): Promise<void> {\n    await this.keycloak.login({\n      redirectUri: window.location.origin + '/home'\n    });\n  }\n\n  async register(): Promise<void> {\n    await this.keycloak.register({\n      redirectUri: window.location.origin + '/home'\n    });\n  }\n\n  async logout(): Promise<void> {\n    await this.keycloak.logout(window.location.origin);\n  }\n\n  async isLoggedIn(): Promise<boolean> {\n    return await this.keycloak.isLoggedIn();\n  }\n\n  async getProfile(): Promise<KeycloakProfile> {\n    return await this.keycloak.loadUserProfile();\n  }\n\n  getToken(): string {\n    return this.keycloak.getKeycloakInstance().token || '';\n  }\n\n  getUsername(): string {\n    return this.keycloak.getUsername();\n  }\n\n  hasRole(role: string): boolean {\n    return this.keycloak.isUserInRole(role);\n  }\n}\n"],"mappings":";;;AAOA,OAAM,MAAOA,WAAW;EACtBC,YAAoBC,QAAyB;IAAzB,KAAAA,QAAQ,GAARA,QAAQ;EAAoB;EAE1CC,KAAKA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACT,MAAMD,KAAI,CAACF,QAAQ,CAACC,KAAK,CAAC;QACxBG,WAAW,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAG;OACvC,CAAC;IAAC;EACL;EAEMC,QAAQA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAN,iBAAA;MACZ,MAAMM,MAAI,CAACT,QAAQ,CAACQ,QAAQ,CAAC;QAC3BJ,WAAW,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAG;OACvC,CAAC;IAAC;EACL;EAEMG,MAAMA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAR,iBAAA;MACV,MAAMQ,MAAI,CAACX,QAAQ,CAACU,MAAM,CAACL,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAAC;EACrD;EAEMK,UAAUA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAV,iBAAA;MACd,aAAaU,MAAI,CAACb,QAAQ,CAACY,UAAU,EAAE;IAAC;EAC1C;EAEME,UAAUA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAZ,iBAAA;MACd,aAAaY,MAAI,CAACf,QAAQ,CAACgB,eAAe,EAAE;IAAC;EAC/C;EAEAC,QAAQA,CAAA;IACN,OAAO,IAAI,CAACjB,QAAQ,CAACkB,mBAAmB,EAAE,CAACC,KAAK,IAAI,EAAE;EACxD;EAEAC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACpB,QAAQ,CAACoB,WAAW,EAAE;EACpC;EAEAC,OAAOA,CAACC,IAAY;IAClB,OAAO,IAAI,CAACtB,QAAQ,CAACuB,YAAY,CAACD,IAAI,CAAC;EACzC;;;uBArCWxB,WAAW,EAAA0B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,eAAA;IAAA;EAAA;;;aAAX7B,WAAW;MAAA8B,OAAA,EAAX9B,WAAW,CAAA+B,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}