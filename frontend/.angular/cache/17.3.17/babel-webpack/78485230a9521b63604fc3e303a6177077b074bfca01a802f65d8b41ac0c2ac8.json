{"ast":null,"code":"import _asyncToGenerator from \"/home/joao/Projects/payment-live-chat/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { KeycloakService } from 'keycloak-angular';\nexport const AuthGuard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (route, state) {\n    const keycloak = inject(KeycloakService);\n    const router = inject(Router);\n    const isLoggedIn = yield keycloak.isLoggedIn();\n    if (!isLoggedIn) {\n      yield keycloak.login({\n        redirectUri: window.location.origin + state.url\n      });\n      return false;\n    }\n    return true;\n  });\n  return function AuthGuard(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["inject","Router","KeycloakService","AuthGuard","_ref","_asyncToGenerator","route","state","keycloak","router","isLoggedIn","login","redirectUri","window","location","origin","url","_x","_x2","apply","arguments"],"sources":["/home/joao/Projects/payment-live-chat/frontend/src/app/guards/auth.guard.ts"],"sourcesContent":["import { inject } from '@angular/core';\nimport { Router, CanActivateFn } from '@angular/router';\nimport { KeycloakService } from 'keycloak-angular';\n\nexport const AuthGuard: CanActivateFn = async (route, state) => {\n  const keycloak = inject(KeycloakService);\n  const router = inject(Router);\n\n  const isLoggedIn = await keycloak.isLoggedIn();\n\n  if (!isLoggedIn) {\n    await keycloak.login({\n      redirectUri: window.location.origin + state.url\n    });\n    return false;\n  }\n\n  return true;\n};\n"],"mappings":";AAAA,SAASA,MAAM,QAAQ,eAAe;AACtC,SAASC,MAAM,QAAuB,iBAAiB;AACvD,SAASC,eAAe,QAAQ,kBAAkB;AAElD,OAAO,MAAMC,SAAS;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAkB,WAAOC,KAAK,EAAEC,KAAK,EAAI;IAC7D,MAAMC,QAAQ,GAAGR,MAAM,CAACE,eAAe,CAAC;IACxC,MAAMO,MAAM,GAAGT,MAAM,CAACC,MAAM,CAAC;IAE7B,MAAMS,UAAU,SAASF,QAAQ,CAACE,UAAU,EAAE;IAE9C,IAAI,CAACA,UAAU,EAAE;MACf,MAAMF,QAAQ,CAACG,KAAK,CAAC;QACnBC,WAAW,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGR,KAAK,CAACS;OAC7C,CAAC;MACF,OAAO,KAAK;;IAGd,OAAO,IAAI;EACb,CAAC;EAAA,gBAdYb,SAASA,CAAAc,EAAA,EAAAC,GAAA;IAAA,OAAAd,IAAA,CAAAe,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}